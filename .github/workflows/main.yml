name: CI Mentoria

# gatilhos
on:
   workflow_dispatch:

jobs:
   tests:

       # [config do so] (windows/linux/mac, chrome/firefox/edge, ...)   
       runs-on: ubuntu-latest

       # [variaveis] (vari√°veis de ambiente, chaves de acesso a plataformas, etc.)
       env:
         API_BASE_URL: 'http://localhost:3000'
         PORT: 4000

       # [acoes ou passos]
       steps:
          - name: Checkout do Repositorio
            uses: actions/checkout@v4

       # [deps do projeto] (node/npm, java/malven,gradle,pyton/pip ...)
          - name: Instalando as dependencias
            run: npm install

          - name: Iniciar o servidor de mocks
            run: npm mock-server &

          - name: Iniciar o servidor de Aplicacao
            run: npm run server &

          - name: Executar testes
            run: npx cypress run

            
